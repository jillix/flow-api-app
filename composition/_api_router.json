{
    "server": true,
    "config": {
        "notDefined": "__404",
        "routers": {
            "GET": {
                "api": {
                    "users": {
                        ":username": [
                            "user.get",
                            {
                                "projects": [
                                    "project.list",
                                    {
                                        ":project": [
                                            "project.get", 
                                            {
                                                "apps": [
                                                    "app.list",
                                                    {
                                                        ":app": [
                                                            "app.get", 
                                                            {
                                                                "access": ["app.getAccess", {}]
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "access": ["project.getAccess", {}]
                                            }
                                        ]
                                    }
                                ],
                                "apps": ["app.listAll", {}]
                            }
                        ]
                    }
                }
            },
            "POST": {
                "api": {
                    "users": [
                        "user.create",
                        {
                            ":username": [
                                "user.get",
                                {
                                    "emails": ["user.addEmail", {}],
                                    "projects": [
                                        "project.create",
                                        {
                                            ":project": {
                                                "apps": [
                                                    "app.create",
                                                    {
                                                        ":app": {
                                                            "access": ["app.grantAccess", {}]
                                                        }
                                                    }
                                                ],
                                                "access": ["project.grantAccess", {}]
                                            }
                                        }
                                    ]
                                }
                            ]
                        }
                    ],
                    "oauth": {
                        "token": ["oauth.token", {}]
                    }
                }
            },
            "PATCH": {
                "api": {
                    "users": {
                        ":username": [
                            "user.updateCore",
                            {
                                "password": "user.updatePassword",
                                "emails": {
                                    ":emailId": "user.updateEmail"
                                },
                                "projects": {
                                    ":project": [
                                        "project.updateCore",
                                        {
                                            "apps": {
                                                ":app": ["app.updateCore", {}]
                                            }
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                }
            },
            "DELETE": {
                "api": {
                    "users": {
                        ":username": [
                            "user.delete",
                            {
                                "projects": {
                                    ":project": [
                                        "project.delete",
                                        {
                                            "apps": {
                                                ":app": ["app.delete", {}]
                                            }
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                }
            }
        }
    },
    "flow": {
        "__404": {
            "d": [
                [":flow_tools/transform",
                    {
                        "errorBody.code": 404,
                        "errorBody.message": "Requested resource not found."
                    }
                ],
                [":flow_tools/stringify", ["_", "errorBody"]],
                [":http_server/send", {
                    "send": "errorBody",
                    "statusCode": 404,
                    "end": true,
                    "headers": {
                        "content-type": "application/json"
                    }
                }]
            ]
        },
        "oauth.token": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", [["body", {"inputType": "urlencoded"}]]],
                [":schema_validator/validate", {
                    "schema": "oauth.token",
                    "detailedError": true,
                    "validate": "body"
                }],
                ":service_api/access.token",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "user.get":{
            "d": [
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "username": "{params.username}"
                    }
                ],
                ":service_api/user.get",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/ld+json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "user.create": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", ["body"]],
                [":schema_validator/validate", {
                    "schema": "user.create",
                    "detailedError": true,
                    "validate": "body"
                }],
                ":service_api/user.create",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 201,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/ld+json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "user.updateCore": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", ["body"]],
                [":schema_validator/validate", {
                    "schema": "user.updateCore",
                    "detailedError": true,
                    "validate": "body"
                }],
                [":flow_tools/transform",
                    {
                        "userId": "http://service.jillix.com/{params.username}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{userId}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "user.updateCore"
                }],
                ":service_api/user.updateCore",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 204,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "user.updatePassword": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", ["body"]],
                [":schema_validator/validate", {
                    "schema": "user.updatePassword",
                    "detailedError": true,
                    "validate": "body"
                }],
                [":flow_tools/transform",
                    {
                        "userId": "http://service.jillix.com/{params.username}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{userId}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "user.updatePassword"
                }],
                ":service_api/user.updatePassword",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 204,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "user.addEmail": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", ["body"]],
                [":schema_validator/validate", {
                    "schema": "user.addEmail",
                    "detailedError": true,
                    "validate": "body"
                }],
                [":flow_tools/transform",
                    {
                        "userId": "http://service.jillix.com/{params.username}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{userId}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "user.addEmail"
                }],
                ":service_api/user.addEmail",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 201,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "user.updateEmail": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", ["body"]],
                [":schema_validator/validate", {
                    "schema": "user.updateEmail",
                    "detailedError": true,
                    "validate": "body"
                }],
                [":flow_tools/transform",
                    {
                        "username": "{params.username}",
                        "emailId": "_:{params.emailId}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "http://service.jillix.com/{username}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "user.updateEmail"
                }],
                ":service_api/user.updateEmail",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 204,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "user.delete": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", ["body"]],
                [":schema_validator/validate", {
                    "schema": "user.delete",
                    "detailedError": true,
                    "validate": "body"
                }],
                [":flow_tools/transform",
                    {
                        "userId": "http://service.jillix.com/{params.username}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{userId}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "user.delete"
                }],
                ":service_api/user.delete",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 204,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "project.create": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", ["body"]],
                [":schema_validator/validate", {
                    "schema": "project.create",
                    "detailedError": true,
                    "validate": "body"
                }],
                [":flow_tools/transform",
                    {
                        "userId": "http://service.jillix.com/{params.username}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{userId}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "project.create"
                }],
                ":service_api/project.create",
                [":flow_tools/transform",
                    {
                        "link.user": "http://service.jillix.com/{params.username}",
                        "link.target": "{body.@id}",
                        "link.role": "admin"
                    }
                ],
                ":service_api/access.link",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 201,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/ld+json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "project.get": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", ["body"]],
                [":flow_tools/transform",
                    {
                        "projectId": "http://service.jillix.com/{params.username}/{params.project}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{projectId}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "project.get"
                }],
                ":service_api/project.get",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 200,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/ld+json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "project.list": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", ["body"]],
                [":flow_tools/transform",
                    {
                        "userId": "http://service.jillix.com/{params.username}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{userId}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "project.list"
                }],
                ":service_api/project.list",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 200,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/ld+json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "project.updateCore": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", ["body"]],
                [":schema_validator/validate", {
                    "schema": "project.updateCore",
                    "detailedError": true,
                    "validate": "body"
                }],
                [":flow_tools/transform",
                    {
                        "projectId": "http://service.jillix.com/{params.username}/{params.project}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{projectId}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "project.updateCore"
                }],
                ":service_api/project.updateCore",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 204,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "project.delete": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", ["body"]],
                [":schema_validator/validate", {
                    "schema": "project.delete",
                    "detailedError": true,
                    "validate": "body"
                }],
                [":flow_tools/transform",
                    {
                        "projectId": "http://service.jillix.com/{params.username}/{params.project}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{projectId}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "project.delete"
                }],
                ":service_api/project.delete",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 204,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "project.grantAccess": {
            "d": [
                [":http_server/concat", {"to": "link"}],
                [":flow_tools/parse", ["link"]],
                [":schema_validator/validate", {
                    "schema": "project.grantAccess",
                    "detailedError": true,
                    "validate": "link"
                }],
                [":flow_tools/transform",
                    {
                        "link.target": "http://service.jillix.com/{params.username}/{params.project}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{link.target}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "project.grantAccess"
                }],
                ":service_api/access.link",
                [":flow_tools/transform",
                    {
                        "link": ""
                    }
                ],
                [":http_server/send", {
                    "send": "link",
                    "statusCode": 204,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "project.getAccess": {
            "d": [
                [":flow_tools/transform",
                    {
                        "body.target": "http://service.jillix.com/{params.username}/{params.project}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{body.target}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "project.getAccess"
                }],
                ":service_api/access.get",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 200,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/ld+json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "app.create": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", ["body"]],
                [":schema_validator/validate", {
                    "schema": "app.create",
                    "detailedError": true,
                    "validate": "body"
                }],
                [":flow_tools/transform",
                    {
                        "userId": "http://service.jillix.com/{params.username}",
                        "projectId": "http://service.jillix.com/{params.username}/{params.project}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{projectId}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "app.create"
                }],
                ":service_api/app.create",
                [":flow_tools/transform",
                    {
                        "link.user": "http://service.jillix.com/{params.username}",
                        "link.target": "{body.@id}",
                        "link.role": "admin"
                    }
                ],
                ":service_api/access.link",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 201,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/ld+json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "app.get": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", ["body"]],
                [":flow_tools/transform",
                    {
                        "appId": "http://service.jillix.com/{params.username}/{params.project}/{params.app}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{appId}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "app.create"
                }],
                ":service_api/app.get",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 200,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/ld+json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "app.list": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", ["body"]],
                [":flow_tools/transform",
                    {
                        "userId": "http://service.jillix.com/{params.username}",
                        "projectId": "http://service.jillix.com/{params.username}/{params.project}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{projectId}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "app.list"
                }],
                ":service_api/app.list",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 200,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/ld+json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "app.listAll": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", ["body"]],
                [":flow_tools/transform",
                    {
                        "userId": "http://service.jillix.com/{params.username}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{userId}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "app.listAll"
                }],
                ":service_api/app.listAll",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 200,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/ld+json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "app.updateCore": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", ["body"]],
                [":schema_validator/validate", {
                    "schema": "app.updateCore",
                    "detailedError": true,
                    "validate": "body"
                }],
                [":flow_tools/transform",
                    {
                        "appId": "http://service.jillix.com/{params.username}/{params.project}/{params.app}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{appId}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "app.updateCore"
                }],
                ":service_api/app.updateCore",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 204,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "app.delete": {
            "d": [
                [":http_server/concat", {"to": "body"}],
                [":flow_tools/parse", ["body"]],
                [":schema_validator/validate", {
                    "schema": "app.delete",
                    "detailedError": true,
                    "validate": "body"
                }],
                [":flow_tools/transform",
                    {
                        "appId": "http://service.jillix.com/{params.username}/{params.project}/{params.app}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{appId}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "app.delete"
                }],
                ":service_api/app.delete",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 204,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "app.getAccess": {
            "d": [
                [":flow_tools/transform",
                    {
                        "body.target": "http://service.jillix.com/{params.username}/{params.project}/{params.app}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{body.target}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "app.getAccess"
                }],
                ":service_api/access.get",
                [":flow_tools/stringify", ["_", "body"]],
                [":http_server/send", {
                    "send": "body",
                    "statusCode": 200,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/ld+json"
                    }
                }]
            ],
            "r": "http_server/error"
        },
        "app.grantAccess": {
            "d": [
                [":http_server/concat", {"to": "link"}],
                [":flow_tools/parse", ["link"]],
                [":schema_validator/validate", {
                    "schema": "app.grantAccess",
                    "detailedError": true,
                    "validate": "link"
                }],
                [":flow_tools/transform",
                    {
                        "link.target": "http://service.jillix.com/{params.username}/{params.project}/{params.app}"
                    }
                ],
                ":service_api/access.auth",
                [":flow_tools/transform",
                    {
                        "target": "{link.target}"
                    }
                ],
                [":service_api/access.check", {
                    "apiName": "app.grantAccess"
                }],
                ":service_api/access.link",
                [":flow_tools/transform",
                    {
                        "link": ""
                    }
                ],
                [":http_server/send", {
                    "send": "link",
                    "statusCode": 204,
                    "end": true,
                    "headers": {
                        "Access-Control-Allow-Origin": "https://localhost:8000",
                        "content-type": "application/json"
                    }
                }]
            ],
            "r": "http_server/error"
        }
    },
    "roles": {
        "*": true
    },
    "module": "flow-router",
    "name": "_api_router"
}